<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta charset="UTF-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="format-detection" content="telephone=no"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <script>
        document.getElementsByTagName("html")[0].style.fontSize = document.documentElement.clientWidth / 15 + "px";
    </script>
    <link rel="stylesheet" href="../css/public.css">
    <link rel="stylesheet" href="../css/n00x-regdit.css">
    <title>001-注册</title>
</head>
<body>
<section id="regedit-warp">                         
    <p class="title-font">请输入你的手机号</p>
    <div class="reg-box">
        <form action="">
            <div class="reg-input-item clear">
                <div class="fl">手机号：</div>
                <div class="fr">
                    <input type="number" class="phone-num" required="required" placeholder="请输入你的手机号">
                </div>
            </div>
            <div class="reg-input-item clear">
                <div class="fl">验证码：</div>
                <div class="fr">
                    <input type="number" class="yanzheng" required="required" placeholder="请输入验证码">
                    <span class="get-yanzheng fr">获取验证码</span>
                </div>
            </div>
            <input type="submit" class="reg-submit" value="下一步">
        </form>
    </div>
</section>
<script src="../js/zepto.min.js"></script>
<script src="../js/isTrue.js"></script>
<script>
    var  Reg = new isTrue();
    $(function(){
        $('.phone-num').on('change',function(){
            console.log(1);
            if(!Reg.isPhoneNum($(this).val())){
                alert('手机号码格式不正确');
            }
        });
        var onoff = true;
        $('.get-yanzheng').on('click',function(){
            var __this = $(this);
           if(onoff){
               onoff = false;
               var n=10;
               //ajax
               var timer= setInterval(function(){
                   n--;
                   if(n>0){
                       __this.html(n+'秒后再次获取');
                   }else {
                       n=10;
                       __this.html("获取验证码");
                       onoff = !onoff;
                       clearInterval(timer);
                   }
               },1000);
           }else {
               return;
           }
        })
    })
</script>
</body>
</html>